var Cr={elm:function(nodeType,attributes,addchilds,appnedTo){var ne=document.createElement(nodeType),i,l;if(attributes){if(attributes.event||attributes.events){var lev=attributes.event||attributes.events;if(typeof(lev[0])=='string')ne.addEventListener(lev[0],lev[1],lev[2]);else if(lev.length)for(i=0,l=lev.length;i<l;i++)ne.addEventListener(lev[i][0],lev[i][1],lev[i][2])}}for(i in attributes){if(i.substring(0,5)=='event'){}else if(i=='checked'||i=='selected'){if(attributes[i])ne.setAttribute(i,i)}else ne.setAttribute(i,attributes[i])}if(addchilds){for(i=0,l=addchilds.length;i<l;i++){if(addchilds[i])ne.appendChild(addchilds[i])}}if(appnedTo){this.insertNode(ne,appnedTo)}return ne},txt:function(textContent){return document.createTextNode(textContent)},ent:function(textContent){return document.createTextNode(this.unescapeHtml(textContent))},paragraphs:function(textContent){var textPieces=textContent.split("\n");var elmArray=[];for(var i=0,l=textPieces.length;i<l;i++){elmArray.push(Cr.elm('p',{},[Cr.ent(textPieces[i])]))}return elmArray},insertNode:function(newNode,parentElem,optionalInsertBefore){if(!parentElem)parentElem=document.body;if(optionalInsertBefore&&optionalInsertBefore.parentNode==parentElem){parentElem.insertBefore(newNode,optionalInsertBefore)}else{parentElem.appendChild(newNode)}},insertNodes:function(newNodes,parentElem,optionalInsertBefore){if(newNodes.nodeType)this.insertNode(newNodes,parentElem,optionalInsertBefore);else{for(var i=0,l=newNodes.length;i<l;i++){this.insertNode(newNodes[i],parentElem,optionalInsertBefore,true)}}},empty:function(node){while(node.lastChild)node.removeChild(node.lastChild)},unescapeHtml:function(str){if(str.length<1)return str;var temp=document.createElement("div");str=str.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gmi,'');temp.innerHTML=str;var result=temp.childNodes[0].nodeValue;this.empty(temp);return result}};